import{r as g,j as a,u as se}from"./index-0c9babb9.js";import{g as S,a as N,s as f,B as re,c as h,_ as c,b as Y,u as R,d as W,e as y,f as M,h as ne,M as ie,P as F,i as le,j as ce,F as de,T as X,k as O,C as pe,l as I,m as ue,n as ge,o as me,p as K,q as u,r as he,t as xe,v as $,w as k}from"./Config-447a5e3b.js";function fe(e){return N("MuiIconButton",e)}const be=S("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),ye=be,ve=["edge","children","className","color","disabled","disableFocusRipple","size"],Ce=e=>{const{classes:o,disabled:t,color:r,edge:i,size:l}=e,d={root:["root",t&&"disabled",r!=="default"&&`color${h(r)}`,i&&`edge${h(i)}`,`size${h(l)}`]};return M(d,fe,o)},De=f(re,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,t.color!=="default"&&o[`color${h(t.color)}`],t.edge&&o[`edge${h(t.edge)}`],o[`size${h(t.size)}`]]}})(({theme:e,ownerState:o})=>c({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!o.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Y(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.edge==="start"&&{marginLeft:o.size==="small"?-3:-12},o.edge==="end"&&{marginRight:o.size==="small"?-3:-12}),({theme:e,ownerState:o})=>{var t;const r=(t=(e.vars||e).palette)==null?void 0:t[o.color];return c({},o.color==="inherit"&&{color:"inherit"},o.color!=="inherit"&&o.color!=="default"&&c({color:r==null?void 0:r.main},!o.disableRipple&&{"&:hover":c({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Y(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),o.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},o.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${ye.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),je=g.forwardRef(function(o,t){const r=R({props:o,name:"MuiIconButton"}),{edge:i=!1,children:l,className:d,color:n="default",disabled:p=!1,disableFocusRipple:x=!1,size:C="medium"}=r,D=W(r,ve),b=c({},r,{edge:i,color:n,disabled:p,disableFocusRipple:x,size:C}),j=Ce(b);return a.jsx(De,c({className:y(j.root,d),centerRipple:!0,focusRipple:!x,disabled:p,ref:t},D,{ownerState:b,children:l}))}),L=je;function $e(e){return N("MuiDialog",e)}const ke=S("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),U=ke,Se=g.createContext({}),J=Se,Ne=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Re=f(ne,{name:"MuiDialog",slot:"Backdrop",overrides:(e,o)=>o.backdrop})({zIndex:-1}),We=e=>{const{classes:o,scroll:t,maxWidth:r,fullWidth:i,fullScreen:l}=e,d={root:["root"],container:["container",`scroll${h(t)}`],paper:["paper",`paperScroll${h(t)}`,`paperWidth${h(String(r))}`,i&&"paperFullWidth",l&&"paperFullScreen"]};return M(d,$e,o)},Me=f(ie,{name:"MuiDialog",slot:"Root",overridesResolver:(e,o)=>o.root})({"@media print":{position:"absolute !important"}}),Be=f("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.container,o[`scroll${h(t.scroll)}`]]}})(({ownerState:e})=>c({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),we=f(F,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.paper,o[`scrollPaper${h(t.scroll)}`],o[`paperWidth${h(String(t.maxWidth))}`],t.fullWidth&&o.paperFullWidth,t.fullScreen&&o.paperFullScreen]}})(({theme:e,ownerState:o})=>c({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},o.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},o.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!o.maxWidth&&{maxWidth:"calc(100% - 64px)"},o.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${U.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.maxWidth&&o.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[o.maxWidth]}${e.breakpoints.unit}`,[`&.${U.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[o.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.fullWidth&&{width:"calc(100% - 64px)"},o.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${U.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Te=g.forwardRef(function(o,t){const r=R({props:o,name:"MuiDialog"}),i=le(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":d,"aria-labelledby":n,BackdropComponent:p,BackdropProps:x,children:C,className:D,disableEscapeKeyDown:b=!1,fullScreen:j=!1,fullWidth:w=!1,maxWidth:T="sm",onBackdropClick:s,onClick:m,onClose:E,open:_,PaperComponent:q=F,PaperProps:H={},scroll:Z="paper",TransitionComponent:G=de,transitionDuration:V=l,TransitionProps:Q}=r,ee=W(r,Ne),B=c({},r,{disableEscapeKeyDown:b,fullScreen:j,fullWidth:w,maxWidth:T,scroll:Z}),z=We(B),A=g.useRef(),oe=v=>{A.current=v.target===v.currentTarget},ae=v=>{m&&m(v),A.current&&(A.current=null,s&&s(v),E&&E(v,"backdropClick"))},P=ce(n),te=g.useMemo(()=>({titleId:P}),[P]);return a.jsx(Me,c({className:y(z.root,D),closeAfterTransition:!0,components:{Backdrop:Re},componentsProps:{backdrop:c({transitionDuration:V,as:p},x)},disableEscapeKeyDown:b,onClose:E,open:_,ref:t,onClick:ae,ownerState:B},ee,{children:a.jsx(G,c({appear:!0,in:_,timeout:V,role:"presentation"},Q,{children:a.jsx(Be,{className:y(z.container),onMouseDown:oe,ownerState:B,children:a.jsx(we,c({as:q,elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":P},H,{className:y(z.paper,H.className),ownerState:B,children:a.jsx(J.Provider,{value:te,children:C})}))})}))}))}),Ee=Te;function ze(e){return N("MuiDialogActions",e)}S("MuiDialogActions",["root","spacing"]);const Ae=["className","disableSpacing"],Pe=e=>{const{classes:o,disableSpacing:t}=e;return M({root:["root",!t&&"spacing"]},ze,o)},Ie=f("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,!t.disableSpacing&&o.spacing]}})(({ownerState:e})=>c({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Le=g.forwardRef(function(o,t){const r=R({props:o,name:"MuiDialogActions"}),{className:i,disableSpacing:l=!1}=r,d=W(r,Ae),n=c({},r,{disableSpacing:l}),p=Pe(n);return a.jsx(Ie,c({className:y(p.root,i),ownerState:n,ref:t},d))}),Ue=Le;function Fe(e){return N("MuiDialogContent",e)}S("MuiDialogContent",["root","dividers"]);function Oe(e){return N("MuiDialogTitle",e)}const _e=S("MuiDialogTitle",["root"]),He=_e,Ve=["className","dividers"],Ye=e=>{const{classes:o,dividers:t}=e;return M({root:["root",t&&"dividers"]},Fe,o)},Ke=f("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,t.dividers&&o.dividers]}})(({theme:e,ownerState:o})=>c({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${He.root} + &`]:{paddingTop:0}})),Xe=g.forwardRef(function(o,t){const r=R({props:o,name:"MuiDialogContent"}),{className:i,dividers:l=!1}=r,d=W(r,Ve),n=c({},r,{dividers:l}),p=Ye(n);return a.jsx(Ke,c({className:y(p.root,i),ownerState:n,ref:t},d))}),Je=Xe,qe=["className","id"],Ze=e=>{const{classes:o}=e;return M({root:["root"]},Oe,o)},Ge=f(X,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),Qe=g.forwardRef(function(o,t){const r=R({props:o,name:"MuiDialogTitle"}),{className:i,id:l}=r,d=W(r,qe),n=r,p=Ze(n),{titleId:x=l}=g.useContext(J);return a.jsx(Ge,c({component:"h2",className:y(p.root,i),ownerState:n,ref:t,variant:"h6",id:l??x},d))}),eo=Qe,oo=O(a.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),ao=O(a.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),to=O(a.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt");function no(){const e=se(),[o,t]=g.useState([]),[r,i]=g.useState(!1),[l,d]=g.useState(!1),[n,p]=g.useState({name:"",designation:"",department:"",employeeNumber:"",companyName:"",baseSalary:"",increment:"",da:"",hra:"",specialAllowance:"",address:"",phoneNumber:"",email:"",dateOfBirth:"",dateOfJoining:""}),x=async()=>{try{const s=await $.get(`${k}`);t(s.data)}catch(s){console.error("Error fetching employees:",s)}};g.useEffect(()=>{x()},[]);const C=s=>{p(m=>({...m,[s.target.name]:s.target.value}))},D=()=>{d(!1),p({name:"",designation:"",department:"",employeeNumber:"",companyName:"",baseSalary:"",increment:"",da:"",hra:"",specialAllowance:"",address:"",phoneNumber:"",email:"",dateOfBirth:"",dateOfJoining:""}),i(!0)},b=async s=>{try{e(`/salary-slip/${s}`)}catch(m){console.error("Error fetching salary slip data:",m)}},j=async s=>{try{const m=await $.get(`${k}/${s}`);p(m.data),d(!0),i(!0)}catch(m){console.error("Error fetching employee for edit:",m)}},w=async s=>{if(confirm("Are you sure you want to delete this employee?"))try{await $.delete(`${k}/${s}`),x()}catch(m){console.error("Error deleting employee:",m)}},T=async()=>{try{l?await $.put(`${k}/${n.employeeNumber}`,{baseSalary:Number(n.baseSalary),increment:Number(n.increment),da:Number(n.da),hra:Number(n.hra),specialAllowance:Number(n.specialAllowance)}):await $.post(`${k}/employee`,n),i(!1),x()}catch(s){console.error("Error submitting employee:",s)}};return a.jsxs(pe,{children:[a.jsx(X,{variant:"h4",gutterBottom:!0,children:"Employee Directory"}),a.jsx(I,{variant:"contained",color:"primary",onClick:D,children:"Add New Employee"}),a.jsx(ue,{component:F,sx:{marginTop:3},children:a.jsxs(ge,{children:[a.jsx(me,{children:a.jsxs(K,{children:[a.jsx(u,{children:"Name"}),a.jsx(u,{children:"Emp Id"}),a.jsx(u,{children:"Designation"}),a.jsx(u,{children:"Email"}),a.jsx(u,{children:"Phone"}),a.jsx(u,{children:"Total Earnings"}),a.jsx(u,{children:"Actions"})]})}),a.jsx(he,{children:o.map(s=>a.jsxs(K,{children:[a.jsx(u,{children:s.name}),a.jsx(u,{children:s.employeeNumber}),a.jsx(u,{children:s.designation}),a.jsx(u,{children:s.email}),a.jsx(u,{children:s.phoneNumber}),a.jsx(u,{children:s.totalEarnings}),a.jsxs(u,{children:[a.jsx(L,{color:"success",onClick:()=>b(s.employeeNumber),children:a.jsx(to,{})}),a.jsx(L,{color:"primary",onClick:()=>j(s.employeeNumber),children:a.jsx(ao,{})}),a.jsx(L,{color:"error",onClick:()=>w(s.employeeNumber),children:a.jsx(oo,{})})]})]},s.id))})]})}),a.jsxs(Ee,{open:r,onClose:()=>i(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsx(eo,{children:l?"Edit Employee":"Add New Employee"}),a.jsx(Je,{children:Object.keys(n).map(s=>a.jsx(xe,{margin:"dense",label:s.replace(/([A-Z])/g," $1"),name:s,type:["baseSalary","increment","da","hra","specialAllowance"].includes(s)?"number":"text",fullWidth:!0,variant:"outlined",value:n[s],onChange:C,disabled:l&&s==="employeeNumber"},s))}),a.jsxs(Ue,{children:[a.jsx(I,{onClick:()=>i(!1),children:"Cancel"}),a.jsx(I,{variant:"contained",onClick:T,children:l?"Update":"Submit"})]})]})]})}export{no as default};
