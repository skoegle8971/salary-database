import{r as g,j as a,u as je}from"./index-BK3e7zye.js";import{g as N,a as P,u as R,b as Q,s as y,c as j,d as m,e as W,B as De,m as I,f as J,h as q,C as we,i as ke,P as U,F as K,j as M,M as $e,k as Me,T as _,l as H,n as Be,o as L,p as Te,q as Ne,r as Pe,t as Z,v as u,w as Re,x as We,y as B,z as T}from"./Config-xXkUi7QH.js";function Ie(e){return P("MuiIconButton",e)}const G=N("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),ze=e=>{const{classes:o,disabled:t,color:n,edge:l,size:i,loading:c}=e,s={root:["root",c&&"loading",t&&"disabled",n!=="default"&&`color${m(n)}`,l&&`edge${m(l)}`,`size${m(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return W(s,Ie,o)},Ae=y(De,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,t.loading&&o.loading,t.color!=="default"&&o[`color${m(t.color)}`],t.edge&&o[`edge${m(t.edge)}`],o[`size${m(t.size)}`]]}})(I(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:o=>!o.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:J(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),I(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(q()).map(([o])=>({props:{color:o},style:{color:(e.vars||e).palette[o].main}})),...Object.entries(e.palette).filter(q()).map(([o])=>({props:{color:o},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[o].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:J((e.vars||e).palette[o].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${G.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${G.loading}`]:{color:"transparent"}}))),Ee=y("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),F=g.forwardRef(function(o,t){const n=R({props:o,name:"MuiIconButton"}),{edge:l=!1,children:i,className:c,color:s="default",disabled:d=!1,disableFocusRipple:h=!1,size:D="medium",id:f,loading:x=null,loadingIndicator:v,...w}=n,C=Q(f),r=v??a.jsx(we,{"aria-labelledby":C,color:"inherit",size:16}),p={...n,edge:l,color:s,disabled:d,disableFocusRipple:h,loading:x,loadingIndicator:r,size:D},b=ze(p);return a.jsxs(Ae,{id:x?C:f,className:j(b.root,c),centerRipple:!0,focusRipple:!h,disabled:d||x,ref:t,...w,ownerState:p,children:[typeof x=="boolean"&&a.jsx("span",{className:b.loadingWrapper,style:{display:"contents"},children:a.jsx(Ee,{className:b.loadingIndicator,ownerState:p,children:x&&r})}),i]})});function Le(e){return P("MuiDialog",e)}const O=N("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),ee=g.createContext({}),Fe=y(Me,{name:"MuiDialog",slot:"Backdrop",overrides:(e,o)=>o.backdrop})({zIndex:-1}),Oe=e=>{const{classes:o,scroll:t,maxWidth:n,fullWidth:l,fullScreen:i}=e,c={root:["root"],container:["container",`scroll${m(t)}`],paper:["paper",`paperScroll${m(t)}`,`paperWidth${m(String(n))}`,l&&"paperFullWidth",i&&"paperFullScreen"]};return W(c,Le,o)},Ue=y($e,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),He=y("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.container,o[`scroll${m(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Ve=y(U,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.paper,o[`scrollPaper${m(t.scroll)}`],o[`paperWidth${m(String(t.maxWidth))}`],t.fullWidth&&o.paperFullWidth,t.fullScreen&&o.paperFullScreen]}})(I(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:o})=>!o.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${O.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(o=>o!=="xs").map(o=>({props:{maxWidth:o},style:{maxWidth:`${e.breakpoints.values[o]}${e.breakpoints.unit}`,[`&.${O.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[o]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:o})=>o.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:o})=>o.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${O.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Ye=g.forwardRef(function(o,t){const n=R({props:o,name:"MuiDialog"}),l=ke(),i={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":s,"aria-modal":d=!0,BackdropComponent:h,BackdropProps:D,children:f,className:x,disableEscapeKeyDown:v=!1,fullScreen:w=!1,fullWidth:C=!1,maxWidth:r="sm",onClick:p,onClose:b,open:V,PaperComponent:oe=U,PaperProps:Y={},scroll:ae="paper",slots:te={},slotProps:re={},TransitionComponent:se=K,transitionDuration:X=i,TransitionProps:ne,...le}=n,S={...n,disableEscapeKeyDown:v,fullScreen:w,fullWidth:C,maxWidth:r,scroll:ae},z=Oe(S),A=g.useRef(),ie=$=>{A.current=$.target===$.currentTarget},ce=$=>{p&&p($),A.current&&(A.current=null,b&&b($,"backdropClick"))},E=Q(s),pe=g.useMemo(()=>({titleId:E}),[E]),de={transition:se,...te},ue={transition:ne,paper:Y,backdrop:D,...re},k={slots:de,slotProps:ue},[ge,me]=M("root",{elementType:Ue,shouldForwardComponentProp:!0,externalForwardedProps:k,ownerState:S,className:j(z.root,x),ref:t}),[he,xe]=M("backdrop",{elementType:Fe,shouldForwardComponentProp:!0,externalForwardedProps:k,ownerState:S}),[ye,be]=M("paper",{elementType:Ve,shouldForwardComponentProp:!0,externalForwardedProps:k,ownerState:S,className:j(z.paper,Y.className)}),[fe,ve]=M("container",{elementType:He,externalForwardedProps:k,ownerState:S,className:z.container}),[Ce,Se]=M("transition",{elementType:K,externalForwardedProps:k,ownerState:S,additionalProps:{appear:!0,in:V,timeout:X,role:"presentation"}});return a.jsx(ge,{closeAfterTransition:!0,slots:{backdrop:he},slotProps:{backdrop:{transitionDuration:X,as:h,...xe}},disableEscapeKeyDown:v,onClose:b,open:V,onClick:ce,...me,...le,children:a.jsx(Ce,{...Se,children:a.jsx(fe,{onMouseDown:ie,...ve,children:a.jsx(ye,{as:oe,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":E,"aria-modal":d,...be,children:a.jsx(ee.Provider,{value:pe,children:f})})})})})});function Xe(e){return P("MuiDialogActions",e)}N("MuiDialogActions",["root","spacing"]);const Je=e=>{const{classes:o,disableSpacing:t}=e;return W({root:["root",!t&&"spacing"]},Xe,o)},qe=y("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,!t.disableSpacing&&o.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Ke=g.forwardRef(function(o,t){const n=R({props:o,name:"MuiDialogActions"}),{className:l,disableSpacing:i=!1,...c}=n,s={...n,disableSpacing:i},d=Je(s);return a.jsx(qe,{className:j(d.root,l),ownerState:s,ref:t,...c})});function Ze(e){return P("MuiDialogContent",e)}N("MuiDialogContent",["root","dividers"]);function Ge(e){return P("MuiDialogTitle",e)}const Qe=N("MuiDialogTitle",["root"]),_e=e=>{const{classes:o,dividers:t}=e;return W({root:["root",t&&"dividers"]},Ze,o)},eo=y("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,t.dividers&&o.dividers]}})(I(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:o})=>o.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:o})=>!o.dividers,style:{[`.${Qe.root} + &`]:{paddingTop:0}}}]}))),oo=g.forwardRef(function(o,t){const n=R({props:o,name:"MuiDialogContent"}),{className:l,dividers:i=!1,...c}=n,s={...n,dividers:i},d=_e(s);return a.jsx(eo,{className:j(d.root,l),ownerState:s,ref:t,...c})}),ao=e=>{const{classes:o}=e;return W({root:["root"]},Ge,o)},to=y(_,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),ro=g.forwardRef(function(o,t){const n=R({props:o,name:"MuiDialogTitle"}),{className:l,id:i,...c}=n,s=n,d=ao(s),{titleId:h=i}=g.useContext(ee);return a.jsx(to,{component:"h2",className:j(d.root,l),ownerState:s,ref:t,variant:"h6",id:i??h,...c})}),so=H(a.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),no=H(a.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),lo=H(a.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}));function po(){const e=je(),[o,t]=g.useState([]),[n,l]=g.useState(!1),[i,c]=g.useState(!1),[s,d]=g.useState({name:"",designation:"",department:"",employeeNumber:"",companyName:"",baseSalary:"",increment:"",da:"",hra:"",specialAllowance:"",address:"",phoneNumber:"",email:"",dateOfBirth:"",dateOfJoining:""}),h=async()=>{try{const r=await B.get(`${T}`);t(r.data)}catch(r){console.error("Error fetching employees:",r)}};g.useEffect(()=>{h()},[]);const D=r=>{d(p=>({...p,[r.target.name]:r.target.value}))},f=()=>{c(!1),d({name:"",designation:"",department:"",employeeNumber:"",companyName:"",baseSalary:"",increment:"",da:"",hra:"",specialAllowance:"",address:"",phoneNumber:"",email:"",dateOfBirth:"",dateOfJoining:""}),l(!0)},x=async r=>{try{e(`/salary-slip/${r}`)}catch(p){console.error("Error fetching salary slip data:",p)}},v=async r=>{try{const p=await B.get(`${T}/${r}`);d(p.data),c(!0),l(!0)}catch(p){console.error("Error fetching employee for edit:",p)}},w=async r=>{if(confirm("Are you sure you want to delete this employee?"))try{await B.delete(`${T}/${r}`),h()}catch(p){console.error("Error deleting employee:",p)}},C=async()=>{try{i?await B.put(`${T}/${s.employeeNumber}`,{baseSalary:Number(s.baseSalary),increment:Number(s.increment),da:Number(s.da),hra:Number(s.hra),specialAllowance:Number(s.specialAllowance)}):await B.post(`${T}/employee`,s),l(!1),h()}catch(r){console.error("Error submitting employee:",r)}};return a.jsxs(Be,{children:[a.jsx(_,{variant:"h4",gutterBottom:!0,children:"Employee Directory"}),a.jsx(L,{variant:"contained",color:"primary",onClick:f,children:"Add New Employee"}),a.jsx(Te,{component:U,sx:{marginTop:3},children:a.jsxs(Ne,{children:[a.jsx(Pe,{children:a.jsxs(Z,{children:[a.jsx(u,{children:"Name"}),a.jsx(u,{children:"Emp Id"}),a.jsx(u,{children:"Designation"}),a.jsx(u,{children:"Email"}),a.jsx(u,{children:"Phone"}),a.jsx(u,{children:"Total Earnings"}),a.jsx(u,{children:"Actions"})]})}),a.jsx(Re,{children:o.map(r=>a.jsxs(Z,{children:[a.jsx(u,{children:r.name}),a.jsx(u,{children:r.employeeNumber}),a.jsx(u,{children:r.designation}),a.jsx(u,{children:r.email}),a.jsx(u,{children:r.phoneNumber}),a.jsx(u,{children:r.totalEarnings}),a.jsxs(u,{children:[a.jsx(F,{color:"success",onClick:()=>x(r.employeeNumber),children:a.jsx(lo,{})}),a.jsx(F,{color:"primary",onClick:()=>v(r.employeeNumber),children:a.jsx(no,{})}),a.jsx(F,{color:"error",onClick:()=>w(r.employeeNumber),children:a.jsx(so,{})})]})]},r.id))})]})}),a.jsxs(Ye,{open:n,onClose:()=>l(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsx(ro,{children:i?"Edit Employee":"Add New Employee"}),a.jsx(oo,{children:Object.keys(s).map(r=>a.jsx(We,{margin:"dense",label:r.replace(/([A-Z])/g," $1"),name:r,type:["baseSalary","increment","da","hra","specialAllowance"].includes(r)?"number":"text",fullWidth:!0,variant:"outlined",value:s[r],onChange:D,disabled:i&&r==="employeeNumber"},r))}),a.jsxs(Ke,{children:[a.jsx(L,{onClick:()=>l(!1),children:"Cancel"}),a.jsx(L,{variant:"contained",onClick:C,children:i?"Update":"Submit"})]})]})]})}export{po as default};
